/* --- guion_editor/styles/main.css --- */
/* Estilos Globales de la Aplicación y Tema Oscuro Consistente */

/* --- Estilos Globales --- */
QMainWindow, QDialog {
    background-color: #1E1E1E;
    color: #E0E0E0;
}

QWidget { /* Estilo base para widgets que no son ventanas principales */
    background-color: transparent; /* Hereda por defecto */
    color: #E0E0E0;
    /* font-family: "Segoe UI", Arial, sans-serif; */ /* Opcional: Define una fuente global */
    /* font-size: 10pt; */ /* Opcional: Define un tamaño de fuente base */
}

/* --- Contenedores y Layouts Específicos --- */
QFrame { /* Si usas QFrame como separador o contenedor con borde */
    border: 1px solid #4A4A4A;
    background-color: #2D2D2D; /* O transparente si no debe tener fondo propio */
}

QSplitter::handle {
    background-color: #3C3C3C;
    /* border: 1px solid #4A4A4A; /* Quitado para hacerlo más sutil */
}
QSplitter::handle:horizontal {
    width: 3px; /* Más delgado */
    margin: 0px; /* Sin margen para que sea más limpio */
}
QSplitter::handle:vertical {
    height: 3px; /* Más delgado */
    margin: 0px;
}
QSplitter::handle:pressed {
    background-color: #0078D7;
}

/* --- Widgets de Entrada --- */
QLabel {
    background-color: transparent;
    color: #E0E0E0;
    padding: 2px; /* Pequeño padding para que no estén pegados */
}

QLabel#timeErrorIndicatorLabel { /* El label específico para errores de tiempo */
    /* El color y tooltip se manejan en Python, pero podemos definir un estilo base */
    font-weight: bold;
    padding: 5px;
}

QLineEdit, QKeySequenceEdit {
    background-color: #2D2D2D;
    color: #E0E0E0;
    border: 1px solid #4A4A4A;
    padding: 5px;
    border-radius: 4px; /* Redondeo consistente con otros inputs */
    min-height: 20px; /* Altura mínima para consistencia */
    selection-background-color: #0078D7;
    selection-color: white;
}
QLineEdit:focus, QKeySequenceEdit:focus {
    border: 1px solid #0078D7;
}
QLineEdit[readOnly="true"], QKeySequenceEdit[readOnly="true"] { /* Para QKeySequenceEdit en modo solo lectura si se usa */
    background-color: #383838;
    color: #B0B0B0;
}
QKeySequenceEdit:disabled { /* Importante para el diálogo de shortcuts cuando el widget está deshabilitado */
    background-color: #383838;
    color: #B0B0B0;
}


QComboBox {
    background-color: #2D2D2D;
    color: #E0E0E0;
    border: 1px solid #4A4A4A;
    padding: 5px;
    border-radius: 4px;
    min-height: 20px;
    selection-background-color: #0078D7; /* Color de fondo del item seleccionado en el desplegable */
    selection-color: white; /* Color de texto del item seleccionado en el desplegable */
}
QComboBox:hover {
    border-color: #5A5A5A;
}
QComboBox:focus {
    border-color: #0078D7;
}
QComboBox::drop-down {
    subcontrol-origin: padding;
    subcontrol-position: top right;
    width: 20px;
    border-left-width: 1px;
    border-left-color: #4A4A4A;
    border-left-style: solid;
    border-top-right-radius: 3px;
    border-bottom-right-radius: 3px;
    background-color: #3C3C3C;
}
QComboBox::drop-down:hover {
    background-color: #4A4A4A;
}
QComboBox::down-arrow {
    /* image: url(path/to/your/arrow_down_white.svg); Reemplaza con tu icono o déjalo para el de Qt */
    /* width: 10px; height: 10px; */
}
QComboBox QAbstractItemView { /* Estilo del menú desplegable */
    background-color: #2D2D2D;
    color: #E0E0E0;
    border: 1px solid #4A4A4A;
    padding: 2px;
    outline: 0px; /* Quitar el borde de foco predeterminado si lo hay */
}

QSpinBox {
    background-color: #2D2D2D;
    color: #E0E0E0;
    border: 1px solid #4A4A4A;
    padding: 4px; /* Menor padding vertical para spinbox */
    border-radius: 4px;
    min-height: 20px;
    selection-background-color: #0078D7;
    selection-color: white;
}
QSpinBox:focus {
    border-color: #0078D7;
}
QSpinBox::up-button, QSpinBox::down-button {
    subcontrol-origin: border; /* O padding */
    background-color: #3C3C3C;
    border-left: 1px solid #4A4A4A; /* Separador */
    width: 16px;
    border-radius: 0px; /* Para que se alineen con el borde del QSpinBox */
}
QSpinBox::up-button {
    subcontrol-position: top right;
    border-top-right-radius: 3px;
    /* image: url(path/to/your/arrow_up_white.svg); */
}
QSpinBox::down-button {
    subcontrol-position: bottom right;
    border-bottom-right-radius: 3px;
    /* image: url(path/to/your/arrow_down_white.svg); */
}
QSpinBox::up-button:hover, QSpinBox::down-button:hover {
    background-color: #4A4A4A;
}
QSpinBox::up-button:pressed, QSpinBox::down-button:pressed {
    background-color: #0078D7;
}

QCheckBox {
    spacing: 5px;
    color: #E0E0E0;
    background-color: transparent;
    padding: 2px;
}
QCheckBox::indicator {
    width: 15px;
    height: 15px;
    border: 1px solid #76797C;
    border-radius: 3px;
    background-color: #2D2D2D;
}
QCheckBox::indicator:unchecked:hover {
    border-color: #0078D7;
}
QCheckBox::indicator:checked {
    background-color: #0078D7;
    border-color: #005BA1;
    /* image: url(path/to/your/checkmark_white.svg); */ /* Opcional, para un checkmark personalizado */
}
QCheckBox::indicator:checked:hover {
    background-color: #005BA1;
    border-color: #004C8A;
}
QCheckBox:disabled {
    color: #777777;
}
QCheckBox::indicator:disabled {
    border-color: #555555;
    background-color: #404040;
}

/* --- Botones --- */
QPushButton {
    border: 1px solid #4A4A4A; /* Borde sutil para la mayoría de los botones */
    padding: 6px 10px; /* Padding base */
    text-align: center;
    border-radius: 8px; /* Mayor redondeo */
    color: white;
    background-color: #3C3C3C; /* Color de fondo base para botones */
    min-height: 20px; /* Consistencia de altura */
    /* font-size: 9pt; */ /* Ajusta según necesites */
}
QPushButton:hover {
    background-color: #4A4A4A;
    border-color: #5A5A5A;
}
QPushButton:pressed {
    background-color: #0078D7;
    border-color: #005BA1;
    color: white;
}
QPushButton:focus { /* Opcional: indicar foco visualmente */
    border-color: #0078D7;
    /* outline: 2px solid #0078D7; */ /* Otra forma de indicar foco */
}
QPushButton:disabled {
    background-color: #303030 !important;
    color: #777777 !important;
    border-color: #404040 !important;
}

/* Estilo para botones que solo tienen icono (usando la propiedad iconOnlyButton="true" en Python) */
QPushButton[iconOnlyButton="true"] {
    padding: 6px; /* Padding simétrico para centrar el icono, asumiendo altura fija desde Python */
}

/* Colores temáticos para botones específicos (definidos por objectName) */
QPushButton#play_button { background-color: #4CAF50; border-color: #388E3C;}
QPushButton#play_button:hover { background-color: #43A047; }
QPushButton#play_button:pressed { background-color: #388E3C; }

QPushButton#rewind_button, QPushButton#forward_button { background-color: #2196F3; border-color: #1976D2;}
QPushButton#rewind_button:hover, QPushButton#forward_button:hover { background-color: #1E88E5; }
QPushButton#rewind_button:pressed, QPushButton#forward_button:pressed { background-color: #1976D2; }

QPushButton#detach_button { background-color: #f44336; border-color: #D32F2F;}
QPushButton#detach_button:hover { background-color: #E53935; }
QPushButton#detach_button:pressed { background-color: #D32F2F; }

QPushButton#attach_button { background-color: #673AB7; border-color: #512DA8;} /* Lila */
QPushButton#attach_button:hover { background-color: #5E35B1; }
QPushButton#attach_button:pressed { background-color: #512DA8; }

QPushButton#in_button, QPushButton#out_button { background-color: #FF9800; border-color: #F57C00;}
QPushButton#in_button:hover, QPushButton#out_button:hover { background-color: #FB8C00; }
QPushButton#in_button:pressed, QPushButton#out_button:pressed { background-color: #F57C00; }

QPushButton#volume_button { background-color: #607D8B; border-color: #455A64;}
QPushButton#volume_button:hover { background-color: #546E7A; }
QPushButton#volume_button:pressed { background-color: #455A64; }

QFormLayout QLabel { /* Etiquetas en QFormLayout (ej: "Número de referencia:") */
    color: #C0C0C0; /* Un gris un poco más claro para las etiquetas */
    /* font-weight: bold; /* Opcional: hacerlo negrita */
    padding-top: 6px;  /* Ajustar para mejor alineación vertical con QLineEdit/QComboBox */
    min-width: 120px; /* Ancho mínimo para las etiquetas para que no se corten */
    /* qproperty-alignment: 'AlignVCenter | AlignRight'; /* No es QSS, se hace en Python */
}

/* Botón de alternar cabecera en TableWindow */
QPushButton#toggle_header_button_css {
    text-align: left;
    padding: 8px 10px; /* Padding ajustado */
    background-color: #2A2A2A; /* Un color sutil para el botón */
    border: 1px solid #4A4A4A;
    border-radius: 6px;
    margin-bottom: 8px; /* Espacio debajo del botón antes de los detalles */
    font-weight: normal; /* Asegurar que no sea negrita si los botones globales lo son */
}
QPushButton#toggle_header_button_css:hover {
    background-color: #383838;
    border-color: #5A5A5A;
}
QPushButton#toggle_header_button_css:pressed {
    background-color: #0078D7;
    border-color: #005BA1;
}
QPushButton#toggle_header_button_css:focus {
    border-color: #0078D7; /* Borde de foco */
}

/* --- VideoPlayerWidget específico --- */
QSlider#position_slider::groove:horizontal {
    border: 1px solid #4A4A4A;
    height: 8px;
    background: #2D2D2D;
    margin: 2px 0;
    border-radius: 4px;
}
QSlider#position_slider::handle:horizontal {
    background: #0078D7;
    border: 1px solid #005BA1;
    width: 18px;
    margin: -5px 0;
    border-radius: 9px;
}
QSlider#position_slider::sub-page:horizontal { /* Parte reproducida */
    background: #0078D7;
    border: 1px solid #4A4A4A;
    height: 8px;
    border-radius: 4px;
}
QSlider#position_slider::add-page:horizontal { /* Parte no reproducida */
    background: #2D2D2D;
    border: 1px solid #4A4A4A;
    height: 8px;
    border-radius: 4px;
}

QSlider#volume_slider_vertical {
    min-width: 16px;
    max-width: 16px;
    background: transparent; /* Importante para que el groove sea visible */
    padding: 0 4px; /* Espacio para el handle */
}
QSlider#volume_slider_vertical::groove:vertical {
    background: #2D2D2D;
    width: 8px;
    border-radius: 4px;
    border: 1px solid #4A4A4A;
}
QSlider#volume_slider_vertical::handle:vertical {
    background: #0078D7;
    border: 1px solid #005BA1;
    height: 18px;
    margin: 0 -5px; /* Centrar el handle */
    border-radius: 9px;
}

QLabel#time_code_label {
    color: #E0E0E0;
    background-color: transparent;
    padding: 5px;
    font-weight: bold;
    /* El tamaño de la fuente y la altura se ajustan en VideoPlayerWidget.py */
}

QVideoWidget#video_widget {
    background-color: black;
}

/* --- Menú Bar y Menús --- */
QMenuBar {
    background-color: #2D2D2D;
    color: #E0E0E0;
    /* font-size: 9pt; */
    border-bottom: 1px solid #4A4A4A; /* Línea sutil debajo del menubar */
}
QMenuBar::item {
    background-color: transparent;
    padding: 6px 12px;
}
QMenuBar::item:selected { /* Cuando el menú está abierto o se pasa el mouse */
    background-color: #0078D7;
    color: white;
}
QMenuBar::item:pressed { /* Cuando se hace clic para abrir el menú */
    background-color: #005BA1;
    color: white;
}

QMenu {
    background-color: #2D2D2D;
    color: #E0E0E0;
    border: 1px solid #4A4A4A; /* Borde alrededor del menú */
    padding: 5px; /* Padding interno del menú */
}
QMenu::item {
    padding: 7px 25px 7px 25px; /* Mayor padding para items de menú */
    background-color: transparent;
    border-radius: 3px; /* Bordes redondeados para los items */
    margin: 1px; /* Pequeño margen entre items */
}
QMenu::item:selected {
    background-color: #0078D7;
    color: white;
}
QMenu::item:disabled {
    color: #777777;
    background-color: transparent;
}
QMenu::icon { /* Espacio para el icono */
    padding-left: 5px; /* Ajustar según el tamaño de tus iconos */
    margin-right: 5px; /* Espacio entre icono y texto */
}
QMenu::separator {
    height: 1px;
    background: #4A4A4A;
    margin: 4px 0px; /* Margen vertical para separadores */
}

/* --- Barras de Desplazamiento --- */
QScrollBar:horizontal {
    border: 1px solid #4A4A4A;
    background: #2D2D2D;
    height: 15px;
    margin: 0px 15px 0 15px; /* Márgenes para los botones de flecha */
}
QScrollBar::handle:horizontal {
    background: #3C3C3C;
    min-width: 20px;
    border-radius: 7px;
    border: 1px solid #4A4A4A;
}
QScrollBar::handle:horizontal:hover {
    background: #4A4A4A;
}
QScrollBar::add-line:horizontal, QScrollBar::sub-line:horizontal {
    border: 1px solid #4A4A4A;
    background: #3C3C3C;
    width: 14px; /* Ancho de los botones de flecha */
    subcontrol-origin: margin;
}
QScrollBar::add-line:horizontal {
    subcontrol-position: right;
    border-top-right-radius: 7px;
    border-bottom-right-radius: 7px;
}
QScrollBar::sub-line:horizontal {
    subcontrol-position: left;
    border-top-left-radius: 7px;
    border-bottom-left-radius: 7px;
}
/* Flechas (necesitarías iconos SVG o PNG) */
/* QScrollBar::left-arrow:horizontal, QScrollBar::right-arrow:horizontal */
/* QScrollBar::up-arrow:vertical, QScrollBar::down-arrow:vertical */

QScrollBar:vertical {
    border: 1px solid #4A4A4A;
    background: #2D2D2D;
    width: 15px;
    margin: 15px 0 15px 0;
}
QScrollBar::handle:vertical {
    background: #3C3C3C;
    min-height: 20px;
    border-radius: 7px;
    border: 1px solid #4A4A4A;
}
QScrollBar::handle:vertical:hover {
    background: #4A4A4A;
}
QScrollBar::add-line:vertical, QScrollBar::sub-line:vertical {
    border: 1px solid #4A4A4A;
    background: #3C3C3C;
    height: 14px;
    subcontrol-origin: margin;
}
QScrollBar::add-line:vertical {
    subcontrol-position: bottom;
    border-bottom-left-radius: 7px;
    border-bottom-right-radius: 7px;
}
QScrollBar::sub-line:vertical {
    subcontrol-position: top;
    border-top-left-radius: 7px;
    border-top-right-radius: 7px;
}

/* --- QTableWidget y QHeaderView (para CastWindow y ShortcutConfigDialog) --- */
QTableWidget { /* Estilo base si no es QTableView */
    background-color: #2D2D2D;
    color: #E0E0E0;
    gridline-color: #4A4A4A;
    border: 1px solid #3A3A3A;
    selection-background-color: #0078D7;
    selection-color: #FFFFFF;
    alternate-background-color: #383838; /* Filas alternas para QTableWidget */
}
QTableWidget::item {
    /* background-color: #3C3C3C; Ya se maneja con alternate-background-color */
    color: #E0E0E0;
    padding: 5px;
    border-bottom: 1px solid #404040; /* Más sutil que el gridline principal */
    border-right: 1px solid #404040;
}
/* QTableWidget::item:alternate no es necesario explícitamente si alternate-background-color está en QTableWidget */
QTableWidget::item:selected {
    background-color: #0078D7;
    color: #FFFFFF;
}

QHeaderView::section { /* Para QTableWidget y QTableView */
    background-color: #3C3C3C; /* Un poco más claro que la tabla base */
    color: #E0E0E0;
    padding: 6px;
    border: 1px solid #4A4A4A; /* Borde consistente */
    border-bottom: 2px solid #2D2D2D; /* Borde inferior más pronunciado */
    min-height: 25px; /* Altura mínima para cabeceras */
}
QHeaderView::section:hover {
    background-color: #4A4A4A;
}
QHeaderView::section:pressed {
    background-color: #0078D7;
}
/* Indicadores de ordenación (si usas iconos SVG)
QHeaderView::down-arrow {
    image: url(path/to/your/arrow_down_white.svg);
    width: 12px; height: 12px; padding-right: 5px;
}
QHeaderView::up-arrow {
    image: url(path/to/your/arrow_up_white.svg);
    width: 12px; height: 12px; padding-right: 5px;
} */

/* --- Otros --- */
QStatusBar {
    background-color: #2D2D2D;
    color: #B0B0B0;
    border-top: 1px solid #4A4A4A;
    padding: 2px 5px; /* Padding para el texto de la barra de estado */
}
QStatusBar::item {
    border: none; /* Sin borde para items de la barra de estado */
}

QMessageBox {
    background-color: #2D2D2D; /* Fondo del diálogo QMessageBox */
    border: 1px solid #4A4A4A; /* Opcional: borde para el diálogo */
    /* min-width: 350px; /* Opcional: Ancho mínimo para el diálogo en sí, ajustar según necesidad */
    /* max-width: 500px; /* Opcional: Ancho máximo para evitar que se extienda demasiado */
}

/* Para el texto principal y el texto informativo */
QMessageBox QLabel#qt_msgbox_label,
QMessageBox QLabel#qt_msgbox_informationaltext,
QMessageBox QLabel {
    color: #E0E0E0;
    background-color: transparent;
    border: none;
    padding: 10px; /* Aumentar padding para más espacio alrededor del texto */
    /* min-width: 250px; /* QUITAR o reducir mucho si causa problemas de tamaño */
    /* word-wrap: break-word; /* Para que el texto se ajuste bien */
}

/* Específicamente para el QLabel que contiene el icono */
QMessageBox QLabel#qt_msgboxex_icon_label {
    background-color: transparent;
    border: none;
    padding-right: 10px; /* Espacio entre el icono y el texto */
    /* qproperty-alignment: 'AlignTop | AlignLeft'; /* Intentar alinear el icono */
}

QMessageBox QPushButton {
    background-color: #3C3C3C;
    color: white;
    border: 1px solid #4A4A4A;
    padding: 6px 15px;
    min-width: 80px;   /* Ancho mínimo para cada botón */
    max-width: 120px;  /* Ancho máximo opcional para cada botón */
    border-radius: 6px;
    margin: 5px; /* Margen alrededor de cada botón */
}
QMessageBox QPushButton:hover {
    background-color: #4A4A4A;
    border-color: #5A5A5A;
}
QMessageBox QPushButton:pressed {
    background-color: #0078D7;
    border-color: #005BA1;
}
QMessageBox QPushButton:focus { /* Para el botón por defecto */
     border: 1px solid #0078D7;
}

QToolTip {
    background-color: #1E1E1E; /* Fondo muy oscuro para tooltips */
    color: #E0E0E0;
    border: 1px solid #4A4A4A; /* Borde sutil */
    padding: 5px;
    border-radius: 4px;
    opacity: 230; /* Ligeramente translúcido (0-255) */
}