/* --- guion_editor/styles/main.css --- */

/* --- Importar fuentes modernas al inicio del CSS --- */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

/* --- Estilos Globales --- */
QMainWindow, QDialog {
    background: qlineargradient(x1: 0, y1: 0, x2: 0, y2: 1,
                stop: 0 #1E1E1E, stop: 1 #181818);
    color: #E0E0E0;
    font-family: "Inter", "Segoe UI", Arial, sans-serif;
    font-size: 10pt;
    font-weight: 400;
}

QWidget { 
    background-color: transparent; 
    color: inherit;
    font-family: inherit;
    font-size: inherit;
}

/* --- Contenedores y Layouts Específicos --- */
QFrame { 
    background: qlineargradient(x1: 0, y1: 0, x2: 0, y2: 1,
                stop: 0 #2A2A2A, stop: 1 #222222);
    border: 1px solid #333333;
}

QSplitter::handle {
    background-color: #404040;
    border: none;
    margin: 2px;
}
QSplitter::handle:horizontal {
    width: 5px;
    margin: 0px 1px;
}
QSplitter::handle:vertical {
    height: 5px;
    margin: 1px 0px;
}
QSplitter::handle:pressed {
    background-color: #0078D7;
}

/* --- Widgets de Entrada --- */
QLabel {
    background-color: transparent;
    color: #E0E0E0; /* Asegurar color de texto para todos los QLabel */
    padding: 4px 2px; /* Un poco más de padding vertical */
    font-family: inherit; /* Asegurar herencia */
    font-size: inherit;
}

QLabel#timeErrorIndicatorLabel { 
    border-radius: 4px;
    padding: 6px 12px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-size: 8pt;
}

QLineEdit, QKeySequenceEdit, QTextEdit, QSpinBox, QComboBox {
    background-color: #2D2D2D;
    color: #E0E0E0;
    border: 1px solid #383838;
    padding: 8px 10px; /* Aumentar padding para mejor apariencia */
    border-radius: 4px;
    min-height: 26px; /* Ajustar altura mínima si es necesario */
    selection-background-color: #0078D7;
    selection-color: white;
    font-family: inherit; /* Asegurar herencia de fuente */
    font-size: inherit;
}
QLineEdit:focus, QKeySequenceEdit:focus, QTextEdit:focus, QSpinBox:focus, QComboBox:focus {
    border: 1px solid #0078D7;
}
QLineEdit[readOnly="true"], QKeySequenceEdit[readOnly="true"], QTextEdit[readOnly="true"] {
    background-color: #282828;
    color: #A0A0A0;
    border-color: #333333;
}
QLineEdit:disabled, QKeySequenceEdit:disabled, QTextEdit:disabled, QSpinBox:disabled, QComboBox:disabled {
    background-color: #282828;
    color: #777777;
    border-color: #333333;
}

QComboBox::drop-down {
    subcontrol-origin: padding;
    subcontrol-position: top right;
    width: 22px; /* Un poco más ancho */
    border-left-width: 1px;
    border-left-color: #383838;
    border-left-style: solid;
    border-top-right-radius: 3px;
    border-bottom-right-radius: 3px;
    background-color: #333333;
}
QComboBox::drop-down:hover {
    background-color: #3A3A3A;
}
QComboBox QAbstractItemView {
    background-color: #2D2D2D;
    color: #E0E0E0;
    border: 1px solid #4A4A4A;
    padding: 4px;
    outline: 0px;
    border-radius: 4px;
}

QSpinBox::up-button, QSpinBox::down-button {
    subcontrol-origin: border; /* Cambiado de padding a border para mejor alineación */
    background-color: #333333;
    border-left: 1px solid #383838; /* Borde para separar del campo de texto */
    width: 20px; /* Un poco más ancho */
    /* No border-radius aquí para que se fusionen con el borde del QSpinBox */
}
QSpinBox::up-button { 
    subcontrol-position: top right; 
    /* border-top-right-radius: 3px; */ /* Quitar para que el borde sea continuo */
}
QSpinBox::down-button { 
    subcontrol-position: bottom right; 
    /* border-bottom-right-radius: 3px; */ /* Quitar para que el borde sea continuo */
}
QSpinBox::up-button:hover, QSpinBox::down-button:hover { background-color: #3A3A3A; }
QSpinBox::up-button:pressed, QSpinBox::down-button:pressed { background-color: #0078D7; }

QCheckBox {
    spacing: 8px; /* Más espacio entre indicador y texto */
    color: #E0E0E0;
    background-color: transparent;
    padding: 4px 0px; /* Un poco más de padding */
    font-family: inherit;
    font-size: inherit;
}
QCheckBox::indicator {
    width: 16px; /* Un poco más grande */
    height: 16px; /* Un poco más grande */
    border: 1px solid #606060;
    border-radius: 3px; 
    background-color: #2D2D2D;
}
QCheckBox::indicator:unchecked:hover {
    border-color: #0078D7;
}
QCheckBox::indicator:checked {
    background-color: #0078D7;
    border-color: #0078D7;
    /* Puedes añadir un icono de check aquí si lo deseas */
    /* image: url(:/icons/check_icon.svg); */
}
QCheckBox::indicator:checked:hover {
    background-color: #0085E0;
    border-color: #0085E0;
}
QCheckBox:disabled { color: #777777; }
QCheckBox::indicator:disabled { border-color: #444444; background-color: #333333; }

/* --- Botones --- */
QPushButton {
    background: qlineargradient(x1: 0, y1: 0, x2: 0, y2: 1,
                stop: 0 #404040, stop: 1 #353535);
    border: 1px solid #4A4A4A;
    border-radius: 6px;
    padding: 8px 16px;
    font-weight: 500;
    color: #E0E0E0;
    min-height: 28px;
    font-family: inherit;
    font-size: inherit;
}
QPushButton:hover {
    background: qlineargradient(x1: 0, y1: 0, x2: 0, y2: 1,
                stop: 0 #4A4A4A, stop: 1 #3F3F3F);
    border-color: #0078D7;
}
QPushButton:pressed {
    background-color: #0078D7;
    border-color: #005BA1;
    color: white;
}
QPushButton:focus {
    border-color: #0078D7;
}
QPushButton:disabled {
    background-color: #303030 !important;
    color: #777777 !important;
    border-color: #404040 !important;
}

QPushButton[iconOnlyButton="true"] {
    padding: 0;
}

/* --- BARRA DE ACCIONES DE LA TABLA (TableWindow) --- */
QWidget#table_actions_bar {
    padding: 10px 12px; /* Ajustar padding */
    margin-bottom: 8px;
    background: qlineargradient(x1: 0, y1: 0, x2: 0, y2: 1,
                stop: 0 #2A2A2A, stop: 1 #242424); /* Fondo un poco más oscuro */
    border-radius: 8px;
    border: 1px solid #383838; /* Borde sutil para definirla mejor */
}
QWidget#table_actions_bar QPushButton {
    background-color: #333333;
    border-color: #454545;
    margin-right: 4px;
    font-weight: normal;
    height: 28px;
    padding: 0px 10px;
}
QWidget#table_actions_bar QPushButton:last-child {
    margin-right: 0;
}
QWidget#table_actions_bar QPushButton:hover {
    background-color: #3F3F3F;
    border-color: #505050;
}
QWidget#table_actions_bar QPushButton:pressed {
    background-color: #0078D7;
    border-color: #005BA1;
    color: white;
}
QWidget#table_actions_bar QPushButton[iconOnlyButton="true"] {
    padding: 0;
    width: 28px;
}

/* --- BARRA DE CONTROLES DEL VIDEO PLAYER (VideoPlayerWidget) --- */
QWidget#video_controls_bar {
    background: qlineargradient(x1: 0, y1: 0, x2: 0, y2: 1,
                stop: 0 #2A2A2A, stop: 1 #242424); /* Fondo un poco más oscuro */
    border-top: 1px solid #383838; /* Borde sutil para definirla mejor */
    padding: 8px;
    border-radius: 0 0 8px 8px;
}
QWidget#video_controls_bar QPushButton {
    height: 34px;
    min-height: 34px;
    max-height: 34px;
    border-radius: 8px;
    padding: 0px 12px;
    font-weight: 500;
}
QWidget#video_controls_bar QPushButton[iconOnlyButton="true"] {
    padding: 0;
    width: 34px;
}
QWidget#video_controls_bar QPushButton#play_button { background-color: #4CAF50; border-color: #388E3C; }
QWidget#video_controls_bar QPushButton#play_button:hover { background-color: #43A047; }
QWidget#video_controls_bar QPushButton#play_button:pressed { background-color: #388E3C; }
QWidget#video_controls_bar QPushButton#rewind_button,
QWidget#video_controls_bar QPushButton#forward_button { background-color: #2196F3; border-color: #1976D2; }
QWidget#video_controls_bar QPushButton#rewind_button:hover,
QWidget#video_controls_bar QPushButton#forward_button:hover { background-color: #1E88E5; }
QWidget#video_controls_bar QPushButton#rewind_button:pressed,
QWidget#video_controls_bar QPushButton#forward_button:pressed { background-color: #1976D2; }
QWidget#video_controls_bar QPushButton#detach_button { background-color: #F44336; border-color: #D32F2F; }
QWidget#video_controls_bar QPushButton#detach_button:hover { background-color: #E53935; }
QWidget#video_controls_bar QPushButton#detach_button:pressed { background-color: #D32F2F; }
QWidget#video_controls_bar QPushButton#in_button,
QWidget#video_controls_bar QPushButton#out_button { background-color: #FF9800; border-color: #F57C00; }
QWidget#video_controls_bar QPushButton#in_button:hover,
QWidget#video_controls_bar QPushButton#out_button:hover { background-color: #FB8C00; }
QWidget#video_controls_bar QPushButton#in_button:pressed,
QWidget#video_controls_bar QPushButton#out_button:pressed { background-color: #F57C00; }
QWidget#video_controls_bar QPushButton#volume_button { background-color: #607D8B; border-color: #455A64; }
QWidget#video_controls_bar QPushButton#volume_button:hover { background-color: #546E7A; }
QWidget#video_controls_bar QPushButton#volume_button:pressed { background-color: #455A64; }
QWidget#video_controls_bar QCheckBox { margin-left: 5px; }

/* Slider de posición */
QSlider#position_slider::groove:horizontal { background: #2D2D2D; height: 6px; border-radius: 3px; border: 1px solid #404040; }
QSlider#position_slider::handle:horizontal { background: qradialgradient(cx:0.5, cy:0.5, radius:0.5, fx:0.5, fy:0.3, stop:0 #FFFFFF, stop:1 #0078D7); width: 16px; height: 16px; border-radius: 8px; margin: -5px 0; border: 2px solid #FFFFFF; }
QSlider#position_slider::sub-page:horizontal { background: qlineargradient(x1:0, y1:0, x2:1, y2:0, stop:0 #0078D7, stop:1 #00BCF2); }

/* Slider de volumen vertical */
QSlider#volume_slider_vertical { min-width: 16px; max-width: 16px; background: transparent; padding: 0 4px; }
QSlider#volume_slider_vertical::groove:vertical { background: #2D2D2D; width: 8px; border-radius: 4px; border: 1px solid #4A4A4A; }
QSlider#volume_slider_vertical::handle:vertical { background: #0078D7; border: 1px solid #005BA1; height: 18px; margin: 0 -5px; border-radius: 9px; }

/* --- Formulario de Detalles del Guion (TableWindow) --- */
QWidget#header_details_container {
    background: qlineargradient(x1: 0, y1: 0, x2: 0, y2: 1,
                stop: 0 #262626, stop: 1 #202020); /* Ligeramente más oscuro y menos contraste */
    border: 1px solid #333333; /* Borde más sutil */
    border-radius: 6px; /* Menos redondeado */
    padding: 15px; /* Reducir padding si es mucho */
    margin: 12px 0; /* Reducir margen superior/inferior */
}

/* Estilos para los QLineEdit y QComboBox dentro del header_details_container */
QWidget#header_details_container QLineEdit,
QWidget#header_details_container QComboBox {
    background-color: #252525; /* Fondo un poco más oscuro para los campos */
    border: 1px solid #303030; /* Borde muy sutil */
    padding: 6px 8px; /* Ajustar padding */
    min-height: 24px; /* Ajustar altura */
}
QWidget#header_details_container QLineEdit:focus,
QWidget#header_details_container QComboBox:focus {
    border: 1px solid #0078D7; /* Mantener borde de foco */
}
QWidget#header_details_container QLabel {
    padding: 4px 0px; /* Ajustar padding de labels si es necesario */
    color: #B0B0B0; /* Color de label un poco más suave */
}


QPushButton#toggle_header_button_css {
    font-size: 10pt; /* Un poco más pequeño */
    font-weight: 500;
    color: #C0C0C0; /* Un poco más claro */
    padding: 8px 10px; /* Ajustar padding */
    text-align: left;
    border-radius: 4px; /* Menos redondeado */
    background: transparent;
    border: none;
}
QPushButton#toggle_header_button_css:hover {
    background-color: rgba(0, 120, 215, 0.15); /* Un poco más de opacidad en hover */
    color: #0085E0; /* Azul un poco más brillante en hover */
}
QPushButton#toggle_header_button_css:pressed {
    background-color: #383838; /* Más oscuro al presionar */
    color: #E0E0E0;
}

/* --- Display Principal de Tiempo --- */
QLabel#time_code_label { font-family: "SF Mono", "Monaco", "Cascadia Code", monospace; font-weight: 600; font-size: 18pt; letter-spacing: 2px; color: #E0E0E0; background-color: transparent; padding: 5px; }

/* --- Varios Widgets y Menús --- */
QVideoWidget#video_widget { background-color: black; }

QMenuBar { background-color: #2A2A2A; color: #D0D0D0; border-bottom: 1px solid #383838; padding: 2px 0px; }
QMenuBar::item { background-color: transparent; padding: 6px 12px; font-size: 9pt; }
QMenuBar::item:selected { background-color: #0078D7; color: white; }
QMenuBar::item:pressed { background-color: #005BA1; color: white; }

QMenu { background-color: #2D2D2D; color: #E0E0E0; border: 1px solid #4A4A4A; padding: 6px; border-radius: 4px; }
QMenu::item { padding: 8px 20px 8px 20px; background-color: transparent; border-radius: 3px; margin: 2px; }
QMenu::item:selected { background-color: #0078D7; color: white; }
QMenu::item:disabled { color: #777777; background-color: transparent; }
QMenu::icon { padding-left: 5px; margin-right: 8px; }
QMenu::separator { height: 1px; background: #404040; margin: 6px 2px; }

/* --- Barras de Desplazamiento --- */
QScrollBar:horizontal, QScrollBar:vertical { border: none; background: #252525; margin: 0px; }
QScrollBar:horizontal { height: 12px; }
QScrollBar:vertical { width: 12px; }
QScrollBar::handle { background: #484848; border-radius: 5px; border: none; }
QScrollBar::handle:horizontal { min-width: 30px; margin: 2px 0; }
QScrollBar::handle:vertical { min-height: 30px; margin: 0 2px; }
QScrollBar::handle:hover { background: #555555; }
QScrollBar::handle:pressed { background: #606060; }
QScrollBar::add-line, QScrollBar::sub-line { width: 0px; height: 0px; border: none; background: none; }

/* --- QTableWidget (para CastWindow, etc.) y QHeaderView Global --- */
QTableWidget {
    background-color: #282828; /* Fondo de tabla ligeramente más claro que el QTableView principal */
    color: #E0E0E0;
    gridline-color: #3A3A3A; /* Líneas de grid un poco más visibles */
    border: 1px solid #3A3A3A; /* Borde general de la tabla */
    selection-background-color: #0078D7;
    selection-color: #FFFFFF;
    alternate-background-color: #2D2D2D; /* Color alterno un poco más diferenciado */
    font-size: 9pt;
    border-radius: 6px; /* Menos redondeado */
}
QTableWidget::item {
    color: #D0D0D0;
    padding: 8px 10px; /* Más padding */
    border-bottom: 1px solid #3A3A3A; /* Coincidir con gridline-color */
    border-right: 1px solid #3A3A3A; /* Coincidir con gridline-color */
}
QTableWidget::item:selected {
    background-color: #0078D7;
    color: #FFFFFF;
}

/* QHeaderView global, se aplica a QTableWidget y QTableView si no se anula */
QHeaderView::section { 
    background: qlineargradient(x1:0, y1:0, x2:0, y2:1, stop:0 #3A3A3A, stop:1 #303030); /* Cabecera más oscura */
    color: #F0F0F0; /* Texto de cabecera más brillante */
    padding: 10px 8px; /* Ajustar padding */
    border-top: none;
    border-left: none;
    border-right: 1px solid #454545; /* Separador de columna */
    border-bottom: 2px solid #0078D7; 
    min-height: 32px; /* Un poco más de altura */
    font-weight: 600;
    font-size: 9pt;
    text-transform: uppercase;
    letter-spacing: 0.5px; /* Menos letter-spacing */
}
QHeaderView::section:last { /* Para que la última columna no tenga borde derecho si no se desea */
    border-right: none;
}
QHeaderView::section:hover { 
    background: qlineargradient(x1:0, y1:0, x2:0, y2:1, stop:0 #404040, stop:1 #353535);
    color: #FFFFFF;
}
QHeaderView::section:pressed { 
    background: qlineargradient(x1:0, y1:0, x2:0, y2:1, stop:0 #0078D7, stop:1 #005AA1);
    color: white;
    border-bottom-color: #005AA1;
}

/* --- Status Bar, MessageBox, ToolTip --- */
QStatusBar { background-color: #2A2A2A; color: #A0A0A0; border-top: 1px solid #383838; padding: 4px 8px; font-size: 8.5pt; }
QStatusBar::item { border: none; }

QMessageBox { background-color: #2D2D2D; border: 1px solid #4A4A4A; border-radius: 4px; }
QMessageBox QLabel { color: #E0E0E0; background-color: transparent; border: none; padding: 10px; }
QMessageBox QLabel#qt_msgboxex_icon_label { padding-right: 10px; }
QMessageBox QPushButton { margin: 5px; min-width: 90px; }

QToolTip { background-color: #181818; color: #D0D0D0; border: 1px solid #404040; padding: 6px 9px; border-radius: 4px; opacity: 245; font-size: 8.5pt; }